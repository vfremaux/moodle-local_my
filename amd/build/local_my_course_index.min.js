/**
 * Javascript controller for controlling the sections.
 *
 * @module     block_multicourse_navigation/collapse_control
 * @package    block_multicourse_navigation
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("local_my/local_my_course_index",["jquery","core/config","core/log"],(function($,cfg,log){return{init:function(){$(".course_category_tree").on("click",".detail-handle",[],this.toggle_detail),$(".course_category_tree").on("click",".add-to-favorites-handle",[],this.add_to_favorites),$(".course_category_tree").on("click",".remove-from-favorites-handle",[],this.remove_from_favorites),0!==$(".is-accordion").length&&($(".is-accordion .local-my-course").hide(),$(".is-accordion .local-my-cat-collapse > h3 > a").attr("aria-expanded","false")),$(".reload-areas").each((function(){log.debug("Launching refresh on "+$(this).attr("data-widget")+"-"+$(this).attr("data-uid")),$(this).trigger("click")})),this.usereloadwaiter=!0,log.debug("AMD Local My initialized")},add_to_favorites:function(){var that=$(this),courseid=that.attr("data-course"),islight=that.hasClass("light"),url=cfg.wwwroot+"/local/my/ajax/service.php";url+="?what=addtofavorites",url+="&courseid="+courseid,that.removeClass("fa-star-o"),that.addClass("fa-star"),islight&&(that.removeClass("add-to-favorites-handle"),that.addClass("remove-from-favorites-handle")),log.debug("Adding course "+courseid+" to favorites"),$.get(url)},remove_from_favorites:function(){var that=$(this),courseid=that.attr("data-course"),islight=that.hasClass("light"),url=cfg.wwwroot+"/local/my/ajax/service.php";url+="?what=removefromfavorites",url+="&courseid="+courseid,log.debug("Removing course "+courseid+" from favorites"),$.get(url),$('.icon-favorite[data-course="'+courseid+'"]').removeClass("fa-star"),$('.icon-favorite[data-course="'+courseid+'"]').addClass("fa-star-o"),islight&&(that.removeClass("fa-star"),that.addClass("fa-star-o"),that.removeClass("remove-from-favorites-handle"),that.addClass("add-to-favorites-handle"))}}}));

//# sourceMappingURL=local_my_course_index.min.js.map